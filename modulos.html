<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programa Avanzado IA - Cronograma 2025/2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;500;600;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Definición de variables CSS para colores neón y fondo */
        :root {
            --neon-cyan: #00e5ff;
            --neon-pink: #ff00ff;
            --neon-yellow: #ffff00;
            --neon-green: #00ff00;
            --dark-bg: #0d0c1d;
            --card-bg: #131227;
        }
        body {
            font-family: 'Chakra Petch', sans-serif;
            background-color: var(--dark-bg);
            color: #d0d0d0;
            /* Degradados radiales para un efecto de fondo cibernético */
            background-image:
                radial-gradient(circle at 10% 20%, rgba(0, 229, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 0, 255, 0.05) 0%, transparent 20%);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 1.5rem; /* Padding general para el cuerpo */
            box-sizing: border-box; /* Asegura que el padding no cause desbordamiento */
        }
        /* Estilos de fuente específicos */
        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        /* Estilos de texto neón */
        .neon-text-cyan {
            color: var(--neon-cyan);
            text-shadow: 0 0 5px var(--neon-cyan), 0 0 10px var(--neon-cyan);
        }
        .neon-text-pink {
            color: var(--neon-pink);
            text-shadow: 0 0 5px var(--neon-pink), 0 0 10px var(--neon-pink);
        }
        .neon-text-yellow {
            color: var(--neon-yellow);
            text-shadow: 0 0 5px var(--neon-yellow), 0 0 10px var(--neon-yellow);
        }
        .neon-text-green {
            color: var(--neon-green);
            text-shadow: 0 0 5px var(--neon-green), 0 0 10px var(--neon-green);
        }
        /* Estilos de borde y sombra "cyber" */
        .cyber-border-pink {
            border: 2px solid var(--neon-pink);
            box-shadow: 0 0 15px var(--neon-pink), inset 0 0 15px var(--neon-pink);
        }
        .cyber-border { /* Para los bloques de información en el header, que siguen el estilo cyan */
            border: 2px solid var(--neon-cyan);
            box-shadow: 0 0 15px var(--neon-cyan), inset 0 0 15px var(--neon-cyan);
        }
        /* Estilos para el contenido colapsable de los módulos */
        .module-content {
            transition: max-height 0.4s ease;
            overflow: hidden;
            max-height: 0; /* Por defecto, oculto */
        }
        /* Estilos para el icono de flecha del encabezado del módulo */
        .module-header svg {
            transition: transform 0.3s ease;
        }
        .module-header.active svg {
            transform: rotate(180deg); /* Gira la flecha cuando el módulo está activo */
        }
        /* Estilos para los ítems de sublista (temas) */
        .sub-item {
            padding-left: 1rem;
            position: relative;
            margin-bottom: 0.5rem;
        }
        .sub-item::before {
            content: '▹'; /* Icono de viñeta */
            position: absolute;
            left: 0;
            color: var(--neon-pink); /* Color de la viñeta para este tema */
        }
        /* Estilos para las etiquetas de fecha */
        .date-badge {
            display: inline-block;
            padding: 0.15rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-left: 8px;
            vertical-align: middle;
            font-family: 'Chakra Petch', sans-serif; /* Asegurar la misma fuente */
        }
        /* Estilos para etiquetas de Trabajo Práctico (TP) */
        .tp-badge {
            background-color: rgba(255, 255, 0, 0.1);
            color: var(--neon-yellow);
            border: 1px solid var(--neon-yellow);
        }
        /* Estilos para etiquetas de Evaluación */
        .eval-badge {
            background-color: rgba(255, 0, 0, 0.1);
            color: #ff5555;
            border: 1px solid #ff5555;
        }
        /* Estilos para ítems de vacaciones/feriados */
        .holiday-item {
            background-color: rgba(0, 255, 0, 0.05);
            border: 1px solid rgba(0, 255, 0, 0.3);
            text-align: center; /* Centrar contenido de feriado */
        }
        /* Layout de la cuadrícula de módulos */
        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        /* Estilos de las tarjetas de módulo */
        .module-card {
            background-color: rgba(19, 18, 39, 0.8);
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid #2a2940;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .module-card:hover {
            transform: translateY(-5px); /* Efecto de elevación al pasar el ratón */
            box-shadow: 0 5px 15px rgba(255, 0, 255, 0.2);
        }
        /* Animación de "glow" para el contenedor principal */
        .glow {
            animation: glow 2s infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 0 5px var(--neon-pink), 0 0 10px var(--neon-pink); }
            to { box-shadow: 0 0 15px var(--neon-pink), 0 0 20px var(--neon-pink); }
        }
        /* Estilo para el área destacada de la cuadrícula */
        .grid-highlight {
            background: linear-gradient(45deg, rgba(0, 229, 255, 0.1), rgba(255, 0, 255, 0.1));
            border-radius: 8px;
            padding: 1.5rem;
        }
        /* Estilos para la barra de progreso del contador */
        .progress-container {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-top: 1rem;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-pink), var(--neon-cyan));
            border-radius: 4px;
            width: 0%; /* Ancho inicial 0% */
            transition: width 0.5s ease;
        }
        /* Estilos para los elementos del contador */
        .countdown-container {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        .countdown-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 70px;
            padding: 0.5rem;
        }
        .countdown-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--neon-yellow);
            text-shadow: 0 0 8px var(--neon-yellow);
        }
        .countdown-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--neon-cyan);
        }
        /* Estilo para el mensaje de estado del contador (en curso/finalizado) */
        .countdown-status-message {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--neon-green);
            text-shadow: 0 0 8px var(--neon-green);
            text-align: center;
            width: 100%;
            padding: 0.5rem;
        }
        /* Ajustes para pantallas pequeñas */
        @media (max-width: 768px) {
            .module-grid {
                grid-template-columns: 1fr; /* Una columna en móviles */
            }
            .countdown-container {
                flex-wrap: wrap; /* Envuelve los items del contador si no caben */
            }
        }
    </style>
</head>
<body class="flex flex-col items-center min-h-screen p-4">
    <main class="w-full max-w-6xl bg-[#131227] cyber-border-pink rounded-lg overflow-hidden my-8 p-6 md:p-10 glow">
        <header class="text-center mb-10">
            <h1 class="font-orbitron text-3xl md:text-4xl font-bold neon-text-pink mb-2">PROGRAMA AVANZADO DE IA</h1>
            <h2 class="font-orbitron text-xl md:text-2xl text-white">De Cero a Profesional</h2>
            <p class="mt-4 text-lg text-gray-400">Tu camino para dominar la programación y la ciencia de datos en IA.</p>
            
            <div class="mt-8 grid grid-cols-1 md:grid-cols-4 gap-4"> <!-- Modificado de md:grid-cols-3 a md:grid-cols-4 -->
                <div class="bg-[#0d0c1d] p-4 rounded-lg cyber-border">
                    <h3 class="font-orbitron text-lg neon-text-cyan mb-2">Fechas</h3>
                    <p class="text-center">
                        <span class="text-cyan-300 block">Inicio: 4 Ago 2025</span>
                        <span class="text-pink-300 block mt-1">Fin: 3 Ago 2026</span>
                    </p>
                </div>
                
                <div class="bg-[#0d0c1d] p-4 rounded-lg cyber-border">
                    <h3 class="font-orbitron text-lg neon-text-pink mb-2">Horario</h3>
                    <p class="text-center text-cyan-300">Lunes y Miércoles</p>
                    <div class="text-center text-gray-400 text-sm mt-1">
                        <p>Virtual: 14:00 - 16:00</p>
                        <p>Presencial: 17:00 - 19:00</p>
                    </div>
                </div>
                
                <div class="bg-[#0d0c1d] p-4 rounded-lg cyber-border">
                    <h3 class="font-orbitron text-lg neon-text-yellow mb-2">Duración</h3>
                    <p class="text-center text-cyan-300">52 semanas</p>
                    <p class="text-center text-gray-400">(1 año académico)</p>
                </div>
            
                <!-- Contador de Tiempo Restante, movido para estar en la cuadrícula -->
                <div class="bg-[#0d0c1d] p-4 rounded-lg cyber-border">
                    <h3 class="font-orbitron text-xl neon-text-green mb-2">Tiempo Restante</h3>
                    <div class="countdown-container" id="advancedCountdownContainer">
                        <div class="countdown-items-wrapper">
                            <div class="countdown-item">
                                <div id="daysAdvanced" class="countdown-value">00</div>
                                <div class="countdown-label">Días</div>
                            </div>
                            <div class="countdown-item">
                                <div id="hoursAdvanced" class="countdown-value">00</div>
                                <div class="countdown-label">Horas</div>
                            </div>
                            <div class="countdown-item">
                                <div id="minutesAdvanced" class="countdown-value">00</div>
                                <div class="countdown-label">Min</div>
                            </div>
                        </div>
                        <div id="countdownStatusMessageAdvanced" class="countdown-status-message hidden"></div>
                    </div>
                    <div class="progress-container mt-2">
                        <div id="progressBarAdvanced" class="progress-bar"></div>
                    </div>
                </div>
            </div>
        </header>

        <div class="grid-highlight">
            <h3 class="font-orbitron text-xl neon-text-pink mb-4 text-center">Cronograma Detallado</h3>
            <div class="module-grid">
                <!-- Los módulos y feriados se inyectarán aquí por JavaScript -->
            </div>
        </div>
    </main>

    <footer class="text-center text-gray-500 text-sm mt-6 mb-4">
        <p>© 2025 - Programa Avanzado de IA | Inicia: 4/8/2025 - Finaliza: 3/8/2026</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Definición de las fechas de inicio y fin del programa
            const programStartDate = new Date('2025-08-04T14:00:00Z'); // Inicio del programa: 4 de Agosto de 2025, 14:00
            const programEndDate = new Date('2026-08-03T14:00:00Z');   // Fin del programa: 3 de Agosto de 2026, 14:00

            // Definición de las fechas de receso/feriados para el programa avanzado
            const recessDates = [
                { start: new Date('2025-10-13T12:00:00Z'), end: new Date('2025-10-20T12:00:00Z'), title: "DESCANSO ACADÉMICO" },
                { start: new Date('2025-12-22T12:00:00Z'), end: new Date('2026-01-05T12:00:00Z'), title: "VACACIONES NAVIDAD" },
                { start: new Date('2026-04-06T12:00:00Z'), end: new Date('2026-04-13T12:00:00Z'), title: "SEMANA SANTA" }
            ];

            // Datos de los módulos del programa avanzado
            const modulesData = [
                { title: "Introducción a la IA para principiantes", topics: ["¿Qué es la IA? Ejemplos cotidianos", "Historia y evolución breve de la IA", "IA débil vs IA fuerte", "Tipos de IA: Machine Learning, Deep Learning, Generativa", "Aplicaciones prácticas: asistentes, recomendaciones, buscadores", "Mitos y realidades de la IA", "Riesgos básicos y sesgos", "TP: Primer contacto práctico con chatbot"] },
                { title: "Herramientas de IA sin programar", topics: ["Asistentes de voz y reconocimiento de voz", "Generación de texto con ChatGPT", "Creación de imágenes con Midjourney y DALL·E", "Traducción y corrección automática de textos", "Resúmenes y simplificación de documentos", "Organización de tareas y calendarios inteligentes", "Automatización de flujos de trabajo simples", "TP: Combinar tres herramientas"] },
                { title: "Fundamentos de programación para IA", topics: ["Lógica de programación y pseudocódigo", "Entorno Python: instalación y Jupyter", "Variables, tipos de datos y operaciones básicas", "Estructuras de control: if/else y bucles", "Funciones y modularidad de código", "Estructuras de datos: listas, tuplas y diccionarios", "Manejo de archivos y lectura de datos", "TP: Script para procesar un archivo CSV"] },
                { title: "Ciencia de datos y matemáticas para IA", topics: ["Estadística descriptiva: media, mediana y varianza", "Probabilidad básica y teorema de Bayes", "Álgebra lineal: vectores y matrices", "Operaciones matriciales con NumPy", "Cálculo para IA: derivadas e intuición de gradientes", "Visualización de datos con Matplotlib", "Manipulación de datos con Pandas", "TP: Análisis exploratorio de un conjunto de datos"] },
                { title: "Machine Learning y modelos", topics: ["Aprendizaje supervisado, no supervisado y por refuerzo", "Regresión lineal y polinómica con scikit-learn", "Regresión logística y clasificación binaria", "Árboles de decisión y Random Forests", "Support Vector Machines y kernels", "Redes neuronales básicas con TensorFlow/Keras", "Fundamentos de NLP: tokenización y embeddings", "TP: Pipeline completo de entrenamiento y evaluación"] },
                { title: "Implementación profesional y ética", topics: ["Métricas de evaluación y validación cruzada", "Preprocesamiento avanzado e imputación de datos", "Despliegue de modelos como API con FastAPI", "Contenerización con Docker", "Monitoreo de modelos y detección de “model drift”", "Ciclo de vida de un proyecto: MLOps y versionado con DVC", "Ética y explicabilidad con LIME/SHAP", "TP: Proyecto final de asistente IA"] }
            ];

            // Elementos del DOM para el contador y la barra de progreso (para este programa)
            const daysElem = document.getElementById("daysAdvanced");
            const hoursElem = document.getElementById("hoursAdvanced");
            const minutesElem = document.getElementById("minutesAdvanced");
            const progressBar = document.getElementById("progressBarAdvanced");
            const moduleGrid = document.querySelector('.module-grid');
            const countdownItemsWrapper = document.querySelector('#advancedCountdownContainer .countdown-items-wrapper');
            const countdownStatusMessage = document.getElementById('countdownStatusMessageAdvanced');


            // Función para actualizar el contador y la barra de progreso
            function updateCountdownLogic() {
                const now = new Date();
                const distanceToStart = programStartDate.getTime() - now.getTime(); // En milisegundos hasta el inicio
                const totalProgramDurationMs = programEndDate.getTime() - programStartDate.getTime(); // Duración total del programa en ms

                if (distanceToStart > 0) {
                    // El programa no ha comenzado, mostrar cuenta regresiva hasta el inicio
                    const days = Math.floor(distanceToStart / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distanceToStart % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distanceToStart % (1000 * 60 * 60)) / (1000 * 60));
                    
                    daysElem.textContent = days.toString().padStart(2, '0');
                    hoursElem.textContent = hours.toString().padStart(2, '0');
                    minutesElem.textContent = minutes.toString().padStart(2, '0');

                    countdownItemsWrapper.classList.remove('hidden');
                    countdownStatusMessage.classList.add('hidden');
                    progressBar.style.width = "0%"; // La barra de progreso se mantiene en 0% antes de iniciar
                } else {
                    // El programa ha comenzado o ha finalizado
                    countdownItemsWrapper.classList.add('hidden'); // Ocultar los números del contador
                    countdownStatusMessage.classList.remove('hidden'); // Mostrar el mensaje de estado

                    // Calcular y mostrar el progreso de la DURACIÓN TOTAL DEL PROGRAMA
                    const elapsedMs = now.getTime() - programStartDate.getTime();
                    let progressPercentage = (elapsedMs / totalProgramDurationMs) * 100;
                    progressPercentage = Math.min(100, Math.max(0, progressPercentage)); // Asegurar que esté entre 0 y 100

                    progressBar.style.width = progressPercentage + "%";

                    if (now.getTime() < programEndDate.getTime()) {
                        // El programa está en curso
                        countdownStatusMessage.textContent = '¡PROGRAMA EN CURSO!';
                    } else {
                        // El programa ha finalizado
                        countdownStatusMessage.textContent = '¡PROGRAMA FINALIZADO!';
                        clearInterval(countdownInterval); // Detener el intervalo si el programa está completamente finalizado
                    }
                }
            }

            // Llamar a la función una vez al inicio para establecer el estado inicial
            updateCountdownLogic();

            // Configurar el intervalo para actualizar el contador
            const countdownInterval = setInterval(updateCountdownLogic, 1000);
            
            // Generar fechas de clase (Lunes y Miércoles)
            let classDates = [];
            let currentDate = new Date(programStartDate);
            // Generar clases hasta que se tengan 48 fechas o se supere la fecha de fin del programa
            while (classDates.length < 48 && currentDate.getTime() < programEndDate.getTime() + (24 * 60 * 60 * 1000) ) { // Añadir un día extra para asegurar que se incluyan las clases del último día
                const dayOfWeek = currentDate.getDay(); // 0 = Domingo, 1 = Lunes, ..., 3 = Miércoles, ..., 6 = Sábado
                let isHoliday = recessDates.some(range =>
                    currentDate >= range.start && currentDate < range.end // Si la fecha actual está dentro de un rango de feriado
                );
                
                // Añadir Lunes (1) y Miércoles (3) que no sean feriado
                if ((dayOfWeek === 1 || dayOfWeek === 3) && !isHoliday) {
                    classDates.push(new Date(currentDate));
                }
                currentDate.setDate(currentDate.getDate() + 1); // Avanzar al siguiente día
            }
            
            let topicIndex = 0; // Índice global para las fechas de clase
            
            modulesData.forEach((module, moduleIndex) => {
                const moduleTopics = module.topics;
                // Las fechas de inicio y fin del módulo se basan en las fechas de las clases asignadas
                const moduleStart = classDates[topicIndex];
                // Calcular moduleEnd de forma segura
                const moduleEnd = classDates[topicIndex + moduleTopics.length - 1];

                const card = document.createElement('div');
                card.className = 'module-card';
                
                let topicsHTML = ''; // Contenido HTML para los temas del módulo
                moduleTopics.forEach(topic => {
                    const date = classDates[topicIndex];
                    if (!date) { // Manejo de seguridad si no hay más fechas disponibles
                        console.warn(`No hay fecha disponible para el tema: ${topic}`);
                        topicIndex++;
                        return;
                    }
                    const isTP = topic.includes("TP:"); // Detectar si el tema es un Trabajo Práctico
                    const topicText = topic.replace(/TP:\s*/, ''); // Limpiar el texto del tema

                    // Formatear la fecha como "día Mes abreviado"
                    const formattedDate = date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' }).replace('.', '');
                    
                    topicsHTML += `
                        <li class="sub-item ${isTP ? 'tp-item' : ''}">
                            ${topicText} 
                            <span class="date-badge ${isTP ? 'tp-badge' : ''}">${formattedDate}</span>
                        </li>`;
                    topicIndex++; // Avanzar al siguiente tema/fecha
                });

                // Calcular la fecha de evaluación para el módulo actual
                // La evaluación es 3 días después de la última clase del módulo
                const lastModuleClassDate = classDates[topicIndex - 1]; // Obtiene la fecha de la última clase del módulo
                let evalDate = null;
                if (lastModuleClassDate) {
                    evalDate = new Date(lastModuleClassDate);
                    evalDate.setDate(evalDate.getDate() + 3); // Añade 3 días para la evaluación
                }

                if (evalDate) {
                    const formattedEvalDate = evalDate.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' }).replace('.', '');
                    topicsHTML += `
                        <li class="sub-item eval-item">
                            Evaluación M${moduleIndex + 1} 
                            <span class="date-badge eval-badge">${formattedEvalDate}</span>
                        </li>`;
                }

                // Generar el HTML de la tarjeta del módulo
                card.innerHTML = `
                    <div class="module-header flex justify-between items-center cursor-pointer">
                        <div>
                            <h3 class="font-orbitron text-lg ${moduleIndex % 2 === 0 ? 'text-pink-400' : 'text-cyan-400'}">MÓDULO ${moduleIndex + 1}</h3>
                            <p class="${moduleIndex % 2 === 0 ? 'text-cyan-300' : 'text-pink-300'} text-sm">${module.title}</p>
                            <p class="text-gray-400 text-xs mt-1">
                                ${moduleStart && moduleEnd ? 
                                    `${moduleStart.getDate()} ${moduleStart.toLocaleString('es-ES', { month: 'short' }).replace('.','')} - 
                                    ${moduleEnd.getDate()} ${moduleEnd.toLocaleString('es-ES', { month: 'short' }).replace('.','')} ${moduleEnd.getFullYear()}` : 
                                    'Fechas por definir'}
                            </p>
                        </div>
                        <svg class="w-6 h-6 ${moduleIndex % 2 === 0 ? 'text-pink-400' : 'text-cyan-400'}" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </div>
                    <div class="module-content mt-3">
                        <ul class="text-gray-300 text-sm space-y-1">${topicsHTML}</ul>
                    </div>
                `;
                moduleGrid.appendChild(card);
            });
            
            // Función para añadir tarjetas de feriados/recesos
            function addHolidayCard(holiday) {
                const card = document.createElement('div');
                card.className = 'module-card holiday-item';
                // La fecha de fin se muestra como el día anterior al final del rango para indicar el último día completo
                const formattedEndDate = new Date(holiday.end);
                formattedEndDate.setDate(formattedEndDate.getDate() - 1);

                card.innerHTML = `
                    <div class="module-header flex justify-between items-center">
                        <div>
                            <h3 class="font-orbitron text-lg text-green-400">${holiday.title}</h3>
                            <p class="text-yellow-300 text-base">
                                ${holiday.start.getDate()} ${holiday.start.toLocaleString('es-ES', { month: 'short' }).replace('.','')} - 
                                ${formattedEndDate.getDate()} ${formattedEndDate.toLocaleString('es-ES', { month: 'short' }).replace('.','')} ${formattedEndDate.getFullYear()}
                            </p>
                        </div>
                    </div>
                `;
                moduleGrid.appendChild(card);
            }

            // Añadir las tarjetas de feriados después de los módulos para mantener el orden cronológico
            recessDates.forEach(holiday => addHolidayCard(holiday));

            // Ordenar todos los elementos de la cuadrícula por fecha de inicio (módulos y feriados)
            // Esto es crucial para que el cronograma se vea en orden temporal.
            const allCards = Array.from(moduleGrid.children);
            allCards.sort((a, b) => {
                const getDateFromCard = (cardElement) => {
                    // Intenta extraer la fecha de inicio del texto
                    const dateText = cardElement.querySelector('.text-gray-400, .text-yellow-300')?.textContent;
                    if (dateText) {
                        // Regex para encontrar "dd Mmm" o "dd Mmm - dd Mmm"
                        const match = dateText.match(/(\d{1,2}\s[A-Za-z]{3})/);
                        if (match) {
                            // Asume el año del programa para parsear la fecha
                            const year = programStartDate.getFullYear(); // Usar el año del programa
                            return new Date(`${match[1]} ${year}`);
                        }
                    }
                    return new Date(0); // Fecha muy antigua si no se encuentra la fecha
                };
                return getDateFromCard(a) - getDateFromCard(b);
            });
            // Reinsertar las tarjetas ordenadas
            allCards.forEach(card => moduleGrid.appendChild(card));

            // Añadir funcionalidad de alternar (toggle) para los módulos colapsables
            document.querySelectorAll('.module-card').forEach(card => {
                // Excluir los "holiday-item" de la funcionalidad de toggle si no tienen contenido colapsable
                if (card.classList.contains('holiday-item')) {
                    return; // No añadir listener a los feriados
                }
                const header = card.querySelector('.module-header');
                const content = card.querySelector('.module-content');
                if (header && content) {
                    header.addEventListener('click', () => {
                        const isActive = header.classList.contains('active');
                        // Cerrar todos los módulos abiertos primero (efecto acordeón)
                        document.querySelectorAll('.module-header.active').forEach(activeHeader => {
                            activeHeader.classList.remove('active');
                            activeHeader.nextElementSibling.style.maxHeight = null;
                        });

                        // Abrir o cerrar el módulo clicado
                        if (!isActive) {
                            header.classList.add('active');
                            content.style.maxHeight = content.scrollHeight + 'px';
                        }
                    });
                }
            });

            // Abrir el primer módulo por defecto al cargar la página
            const firstCard = document.querySelector('.module-card:not(.holiday-item)'); // Selecciona la primera tarjeta que no sea un feriado
            if (firstCard) {
                const firstHeader = firstCard.querySelector('.module-header');
                const firstContent = firstCard.querySelector('.module-content');
                if (firstHeader && firstContent) {
                    firstHeader.classList.add('active');
                    firstContent.style.maxHeight = firstContent.scrollHeight + 'px';
                }
            }
        });
    </script>
</body>
</html>
